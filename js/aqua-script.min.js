!function (a) { a.fn.extend({ aquaSlider: function (e) { function t(a) { window.location.assign(a) } function r() { var e = a(".aqua-slider-image-show"); if (void 0 !== e.attr("aqua-slider-link")) { var i = e.attr("aqua-slider-link"); a(".aqua-slider-slicer").each(function () { var e = a(this); e.css({ cursor: "pointer" }), e.on("click", function () { t(i) }) }) } else a(".aqua-slider-slicer").each(function () { var e = a(this); e.css({ cursor: "normal" }), e.unbind("click") }) } function s() { if (void 0 !== a(current.image).attr("alt")) { a(".aqua-slider-alt-box").empty(); var e = a(current.image).attr("alt"); a(".aqua-slider-alt-box").stop().animate({ bottom: "0%", opacity: 1 }, 1e3, function () { a(".aqua-slider-alt-box").append("<span> " + e + " </span>") }) } } function d() { a(".aqua-slider-alt-box").find("span").remove(), a(".aqua-slider-alt-box").stop().animate({ bottom: "-70%", opacity: 0 }, 1e3) } function n() { return current = { image: a(".aqua-slider-image-show"), image_data: a(".aqua-slider-image-show").attr("img-data-number"), tick: a(".aqua-slider-tick-select").data("img-select-tick") }, current } function c() { return next_image_data = current.image_data++ , next_image_data > p && (next_image_data = 1), a(".aqua-slider-image-show").next().hasClass("aqua-slider-image") ? image = a(".aqua-slider-image-show").next(".aqua-slider-image") : image = a(".aqua-slider-image").first(), next = { data: next_image_data, image: image }, next } function l() { return next_image_data = current.image_data-- , next_image_data <= 0 && (next_image_data = p), a(".aqua-slider-image-show").prev().hasClass("aqua-slider-image") ? image = a(".aqua-slider-image-show").prev() : image = a(".aqua-slider-image").last(), next = { data: next_image_data, image: image }, next } function o() { img_data = a(".aqua-slider-image-show").attr("img-data-number"), a(".aqua-slider-tick").each(function () { a(this).attr("img-select-tick") == img_data ? a(this).addClass("aqua-slider-tick-select").removeClass("aqua-slider-tick-deselect") : a(this).addClass("aqua-slider-tick-deselect").removeClass("aqua-slider-tick-select") }) } function u() { d(), c(), n(), a(".aqua-right-control").unbind("click"); var e = a(current.image).attr("src"), i = 50; a(".aqua-slider-slicer").css({ backgroundImage: "url('" + e + "')", opacity: 1 }), h.find(".aqua-slider-slicer").each(function () { var e = a(this); "slice" == f.t && (I = Number(e.attr("aqua-slider-data-slicer")) % 2 == 0 ? { top: "-100%", opacity: 1 } : { top: "100%", opacity: 1 }), "basic-fade" == f.t ? i = 500 : "slice-wave" == f.t ? i += 150 : i += 100, console.log(i), a(current.image).removeClass("aqua-slider-image-show").addClass("aqua-slider-image-hide").css({ opacity: 0 }), a(next.image).addClass("aqua-slider-image-show").removeClass("aqua-slider-image-hide").css({ opacity: 1 }), r(), e.animate(I, i, function () { return e.css({ opacity: 0, top: 0 }), e.attr("aqua-slider-data-slicer") != v || (o(), a(".aqua-right-control").bind("click", u), n(), s(), !0) }) }) } function m() { d(), l(), n(), a(".aqua-left-control").unbind("click"); var e = a(current.image).attr("src"), i = 50; a(".aqua-slider-slicer").css({ backgroundImage: "url('" + e + "')", opacity: 1 }); var t = Number(v); h.find(".aqua-slider-slicer").each(function () { var e = a("[aqua-slider-data-slicer='" + t + "']"); --t, "slice" == f.t && (L = Number(e.attr("aqua-slider-data-slicer")) % 2 == 0 ? { top: "-100%", opacity: 1 } : { top: "100%", opacity: 1 }), "basic-fade" == f.t ? i = 500 : "slice-wave" == f.t ? i += 150 : i += 100, a(current.image).removeClass("aqua-slider-image-show").addClass("aqua-slider-image-hide").css({ opacity: 0 }), a(next.image).addClass("aqua-slider-image-show").removeClass("aqua-slider-image-hide").css({ opacity: 1 }), r(), e.animate(L, i, function () { return e.css({ opacity: 0, marginLeft: 0, top: 0 }), 2 != e.attr("aqua-slider-data-slicer") || (o(), a(".aqua-left-control").bind("click", m), n(), s(), !0) }) }) } function g(e) { var i = a(h).find("[img-data-number='" + e + "']"); if (n(), current.image_data == i.attr("img-data-number")) return !1; d(), a(".aqua-right-control").unbind("click"), a(current.image).animate({ opacity: 0 }, 600, function () { a(this).removeClass("aqua-slider-image-show").addClass("aqua-slider-image-hide"), o(), a(".aqua-right-control").bind("click", u) }), a(i).addClass("aqua-slider-image-show").removeClass("aqua-slider-image-hide").animate({ opacity: 1 }, 600), r(), setTimeout(function () { n(), s() }, 1e3) } function q() { S ? u() : S = !0, Q = setTimeout(q, f.a) } var h = a(this); h.wrap("<div class='aqua-slider-control-container'></div>"); var f = {}; e = "object" != typeof e ? {} : e, f.w = e.width || 550, f.h = e.height || 250, f.b = e.bullet || "number", f.a = e.animation || 9e3, f.c = e.control || "on", f.i = e.autoPlay || "off", f.t = e.type || "fade"; h.addClass("aqua-slider-container").css({ width: f.w, height: f.h }), a(".aqua-slider-control-container").css({ width: f.w, height: f.h }); var p = 0; h.find("img").each(function () { var e = a(this); ++p, e.addClass("aqua-slider-image").attr("img-data-number", p).css({ width: h.width() }), "fade" == f.t ? e.addClass("fade-style") : "slide" == f.t && e.addClass("slide-style"), 1 == p ? e.addClass("aqua-slider-image-show").css({ opacity: 1 }) : e.addClass("aqua-slider-image-hide").css({ opacity: 0 }) }); var v = 10, b = Number(a(".aqua-slider-image").first().width() / v), k = a(".aqua-slider-container .aqua-slider-image").height(), w = 0, C = 0; for (i = 1; i <= v; i++) { var x = a("<div>"); x.attr("aqua-slider-data-slicer", i), C > 0 ? x.css({ backgroundPosition: "-" + C + "px,0px" }) : x.css({ backgroundPosition: C + "px,0px" }), x.addClass("aqua-slider-slicer").css({ width: b, height: k, left: Number(w) }), w += Number(b), C += Number(b), a(".aqua-slider-container").append(x) } if (h.find("a").each(function () { var e = a(this), i = e.attr("href"); console.log(i); var t = e.children("img").attr("aqua-slider-link", i).css({ cursor: "pointer" }); e.before(t), e.remove() }), "on" == f.c) { var y = a("<div>"); y.addClass("aqua-slider-controler aqua-slider-arrow aqua-left-control"), a(".aqua-slider-container").append(y), (y = a("<div>")).addClass("aqua-slider-controler aqua-slider-arrow aqua-right-control"), a(".aqua-slider-container").append(y) } var _ = a("<div>"); _.addClass("aqua-slider-bot-container"), a(".aqua-slider-container").after(_), a(".aqua-slider-bot-container").append("<div>"); var N; for (N = 1; N <= p; N++) { var T = a("<span>"); "image" == f.b ? 1 == N ? T.addClass("aqua-slider-tick-select") : T.addClass("aqua-slider-tick-deselect") : "number" == f.b && (1 == N ? T.addClass("aqua-slider-tick-select aqua-slider-number").text(N) : T.addClass("aqua-slider-tick-deselect aqua-slider-number").text(N)), T.addClass("aqua-slider-controler aqua-slider-tick").attr("img-select-tick", N), a(".aqua-slider-bot-container div").append(T) } a(".aqua-slider-tick").each(function () { var e = a(this); e.on("click", function () { g(e.attr("img-select-tick")) }) }); var P = a(".aqua-slider-bot-container").height(); a(".aqua-slider-control-container").css({ height: Number(f.h) + Number(P) }); var j = a("<div>"); j.addClass("aqua-slider-alt-box").css({ opacity: 0, bottom: "-70%" }), a(".aqua-slider-container").append(j), n(), s(); var I; "fade" == f.t || "basic-fade" == f.t ? I = { opacity: 0 } : "slice-wave" == f.t && (I = { top: "100%" }), a(".aqua-right-control").on("click", function () { u() }); var L; "fade" == f.t || "basic-fade" == f.t ? L = { opacity: 0 } : "slice-wave" == f.t && (L = { top: "100%", opacity: 1 }), a(".aqua-left-control").on("click", function () { m() }); var Q = null, S = !1; return "on" == f.i && (q(), a(".aqua-slider-control-container").on({ mouseover: function () { clearTimeout(Q) }, mouseleave: function () { Q = setTimeout(q, f.a) } })), h } }) }(jQuery);